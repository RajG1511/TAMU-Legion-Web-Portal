<!-- Full Page Wrapper -->
<div class="container-fluid bg-dark-navy text-white min-vh-100 px-0">

  <!-- Header Strip -->
  <div class="container-fluid bg-dark-gray-blue text-white py-3">
    <h2 class="text-center font-primary-title">
      <%= @committee.persisted? ? "Update a Committee" : "Create a Committee" %>
    </h2>
  </div>

  <!-- Gold Divider -->
  <div class="container-fluid bg-gold py-1"></div>

  <!-- Form Container -->
  <div class="container my-4 p-4 border border-4 border-white bg-dark-navy text-white default-border-radius">

    <%= form_with model: @committee, local: true, html: { multipart: true } do |f| %>

      <% if @committee.errors.any? %>
        <div class="container-fluid bg-gold text-dark-navy py-2 mb-3">
          <p class="text-center mb-0 h5">Please fill out all required fields.</p>
        </div>
        <div class="visually-hidden">
          <ul>
            <% @committee.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <!-- Row 1: Committee Name + Description -->
      <div class="row mb-4">
        <!-- Committee Name -->
        <div class="col-md-6">
          <div class="d-flex align-items-center">
            <%= f.label :name, "Committee Name", class: "form-label font-primary-heading mb-1 me-2" %>
            <!-- Empty placeholder icon keeps alignment consistent -->
            <i class="bi text-white invisible">i</i>
          </div>
          <%= f.text_field :name, required: true,
              class: "form-control form-dark default-border-radius font-secondary-subheading" %>
        </div>

        <!-- Description -->
        <div class="col-md-6">
          <div class="d-flex align-items-center">
            <%= f.label :description, "Short Description", class: "form-label font-primary-heading mb-1 me-2" %>
            <i class="bi bi-info-circle text-white"
              data-bs-toggle="tooltip"
              title="A one or two sentence summary describing the committee’s purpose and key responsibilities."></i>
          </div>
          <%= f.text_field :description,
              class: "form-control form-dark default-border-radius font-secondary-subheading" %>
        </div>
      </div>


      <hr class="border-white border-4">

      <!-- Row 2: Split into Left and Right Columns with Vertical Divider -->
      <div class="row">
        <!-- Left Side -->
        <div class="col-md-6 pe-md-4" style="border-right: 4px solid #464F68;">
          <div class="mb-4">
            <div class="d-flex align-items-center">
              <%= f.label :section1_heading, "Section 1 Heading", class: "form-label font-primary-heading mb-1 me-2" %>
              <i class="bi bi-info-circle text-white"
                 data-bs-toggle="tooltip"
                 title="The title or main topic for the first content section."></i>
            </div>
            <%= f.text_field :section1_heading,
                class: "form-control form-dark default-border-radius font-secondary-subheading" %>
          </div>

          <div class="mb-4">
            <div class="d-flex align-items-center">
              <%= f.label :section1_body, "Section 1 Body", class: "form-label font-primary-heading mb-1 me-2" %>
              <i class="bi bi-info-circle text-white"
                 data-bs-toggle="tooltip"
                 title="Detailed text describing the committee’s goals or recent activities."></i>
            </div>
            <%= f.text_area :section1_body, rows: 4,
                class: "form-control form-dark default-border-radius font-secondary-subheading" %>
          </div>

          <div class="mb-3">
            <div class="d-flex align-items-center">
              <%= f.label :primary_image, "Primary Image", class: "form-label font-primary-heading mb-1 me-2" %>
              <i class="bi bi-info-circle text-white"
                 data-bs-toggle="tooltip"
                 title="Main image associated with Section 1."></i>
            </div>
            <%= f.file_field :primary_image,
                class: "form-control form-dark default-border-radius font-secondary-subheading" %>

            <% if @committee.primary_image.attached? %>
              <div class="mt-2">
                <p class="font-secondary-body mb-1">Current image:</p>
                <%= image_tag @committee.primary_image.variant(resize_to_limit: [500, 500]),
                              class: "img-fluid border border-2 border-white default-border-radius" %>
              </div>
            <% end %>
          </div>
        </div>

        <!-- Right Side -->
        <div class="col-md-6 ps-md-4">
          <div class="mb-4">
            <div class="d-flex align-items-center">
              <%= f.label :section2_heading, "Section 2 Heading", class: "form-label font-primary-heading mb-1 me-2" %>
              <i class="bi bi-info-circle text-white"
                 data-bs-toggle="tooltip"
                 title="The title or topic for the second content section."></i>
            </div>
            <%= f.text_field :section2_heading,
                class: "form-control form-dark default-border-radius font-secondary-subheading" %>
          </div>

          <div class="mb-4">
            <div class="d-flex align-items-center">
              <%= f.label :section2_body, "Section 2 Body", class: "form-label font-primary-heading mb-1 me-2" %>
              <i class="bi bi-info-circle text-white"
                 data-bs-toggle="tooltip"
                 title="Additional section text for further details or highlights."></i>
            </div>
            <%= f.text_area :section2_body, rows: 4,
                class: "form-control form-dark default-border-radius font-secondary-subheading" %>
          </div>

          <div class="mb-3">
            <div class="d-flex align-items-center">
              <%= f.label :secondary_image, "Secondary Image", class: "form-label font-primary-heading mb-1 me-2" %>
              <i class="bi bi-info-circle text-white"
                 data-bs-toggle="tooltip"
                 title="Secondary image associated with Section 2."></i>
            </div>
            <%= f.file_field :secondary_image,
                class: "form-control form-dark default-border-radius font-secondary-subheading" %>

            <% if @committee.secondary_image.attached? %>
              <div class="mt-2">
                <p class="font-secondary-body mb-1">Current image:</p>
                <%= image_tag @committee.secondary_image.variant(resize_to_limit: [500, 500]),
                              class: "img-fluid border border-2 border-white default-border-radius" %>
              </div>
            <% end %>
          </div>
        </div>
      </div>

      <!-- Submit + Back Buttons -->
      <div class="d-flex justify-content-start gap-2 mt-4">
        <%= f.submit (@committee.persisted? ? "Update Committee" : "Create Committee"),
                     class: "btn btn-gold text-dark-navy default-border-radius font-primary-heading" %>
        <%= link_to "← Back to Dashboard",
                    dashboard_committees_path,
                    class: "btn btn-gold text-dark-navy default-border-radius font-primary-heading" %>
      </div>

    <% end %>
  </div>

  <!-- Gold Footer Strip -->
  <div class="container-fluid bg-gold py-1"></div>
</div>
