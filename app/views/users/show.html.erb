<div class="container-fluid bg-dark-gray-blue text-white py-3">
  <h1 class="text-center font-primary-title">Member Profile</h1>
</div>
<div class="container-fluid bg-gold py-1"></div>

<div class="container-fluid bg-dark-navy text-white pt-4 pb-5 min-vh-100 border-bottom border-12 border-gold">
  <div class="default-padding">

    <%= link_to "← Back to Dashboard", users_path, class: "btn btn-gold text-dark-navy default-border-radius mb-3 font-secondary-body" %>

    <div class="row g-4">
      <div class="col-md-5">
        <div class="p-3 border border-4 border-white bg-dark-navy default-border-radius h-100">
          <h2 class="font-primary-title mb-2"><%= @user.full_name %></h2>
          <p class="font-primary-heading mb-1">Email: <%= mail_to @user.email %></p>
          <p class="font-primary-heading mb-1">Role: <%= @user.role.humanize %> | Status: <%= @user.status.humanize %></p>
          <p class="font-primary-heading mb-1">Position: <%= @user.position.presence || "—" %></p>
          <p class="font-primary-heading mb-1">
            Education: <%= @user.major.presence || "—" %> <% if @user.graduation_year %>(<%= @user.graduation_year %>)<% end %>
          </p>
          <p class="font-primary-heading mb-1">T-Shirt Size: <%= @user.t_shirt_size.presence || "—" %></p>
          <% if @user.headshot.attached? %>
            <div class="mt-3"><%= image_tag @user.headshot.variant(resize_to_limit: [420, 420]), class: "img-fluid rounded" %></div>
          <% end %>
          <p class="mt-3 font-secondary-subheading">
            Approved Service Hours: <strong><%= number_with_precision(@approved_hours, precision: 1) %></strong>
          </p>
          <% if current_user&.exec? %>
            <div class="d-flex gap-2 mt-2">
              <%= link_to "Edit", edit_user_path(@user), class: "btn btn-gold text-dark-navy font-secondary-body" %>
              <%= link_to "Delete", delete_user_path(@user), class: "btn btn-gold text-dark-navy font-secondary-body" %>
            </div>
          <% end %>
        </div>
      </div>

      <div class="col-md-7">
        <div class="p-3 border border-4 border-white bg-dark-navy default-border-radius">
          <h3 class="font-primary-heading mb-2">Service History</h3>
          <div class="table-responsive">
            <table class="table table-bordered table-striped border-primary border-legion-blue align-middle">
              <thead>
                <tr>
                  <th class="bg-legion-blue text-white">Activity</th>
                  <th class="bg-legion-blue text-white">Committee</th>
                  <th class="bg-legion-blue text-white">Status</th>
                  <th class="bg-legion-blue text-white">Hours</th>
                  <th class="bg-legion-blue text-white">Date</th>
                </tr>
              </thead>
              <tbody>
                <% @services.each do |s| %>
                  <tr>
                    <td><%= s.name %></td>
                    <td><%= s.committee.humanize %></td>
                    <td><%= s.status.humanize %></td>
                    <td><%= number_with_precision(s.hours, precision: 1) %></td>
                    <td><%= s.date_performed.strftime("%m/%d/%Y") %></td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
<div class="container-fluid bg-gold py-1"></div>

